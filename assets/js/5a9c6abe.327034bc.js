"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[30221],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),m=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=m(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=m(n),u=i,g=p["".concat(s,".").concat(u)]||p[u]||d[u]||r;return n?a.createElement(g,o(o({ref:t},c),{},{components:n})):a.createElement(g,o({ref:t},c))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var m=2;m<r;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},91540:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var a=n(87462),i=(n(67294),n(3905));const r={title:"Migrating a React-Admin Application to refine",description:"Recently, our team decided to migrate a B2B admin panel of one of our customers from React-Admin to refine to battle test our new framework and improve our productivity.",slug:"migrating-a-react-admin-application-to-refine",authors:"umut",tags:["refine"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/placeholder.png",hide_table_of_contents:!1},o=void 0,l={permalink:"/blog/migrating-a-react-admin-application-to-refine",source:"@site/blog/2021-10-6-migrating-react-admin-application-to-refine.md",title:"Migrating a React-Admin Application to refine",description:"Recently, our team decided to migrate a B2B admin panel of one of our customers from React-Admin to refine to battle test our new framework and improve our productivity.",date:"2021-10-06T00:00:00.000Z",formattedDate:"October 6, 2021",tags:[{label:"refine",permalink:"/blog/tags/refine"}],readingTime:5.34,hasTruncateMarker:!0,authors:[{name:"Umut \xd6zdemir",title:"Frontend Developer",url:"https://github.com/miyavsu-limited",imageURL:"https://github.com/miyavsu-limited.png",key:"umut"}],frontMatter:{title:"Migrating a React-Admin Application to refine",description:"Recently, our team decided to migrate a B2B admin panel of one of our customers from React-Admin to refine to battle test our new framework and improve our productivity.",slug:"migrating-a-react-admin-application-to-refine",authors:"umut",tags:["refine"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/placeholder.png",hide_table_of_contents:!1},prevItem:{title:"Create E-mail Subscription Panel with Refine and Strapi",permalink:"/blog/e-mail-subscription-panel-with-refine"},nextItem:{title:"Build Fast and Customizable Admin Panel with NestJS",permalink:"/blog/customizable-admin-panel-with-nestjs"},relatedPosts:[{title:"Create E-mail Subscription Panel with Refine and Strapi",description:"We will make a web application that allows you to quickly create subscribers and send emails to your subscribers in a simple way. We\u2019ll use refine to develop the frontend easily and strapi for backend solutions.",permalink:"/blog/e-mail-subscription-panel-with-refine",formattedDate:"October 25, 2021",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:7.125,date:"2021-10-25T00:00:00.000Z"},{title:"Audit Log With refine",description:"We'll apply refine's built-in audit logging functionality",permalink:"/blog/refine-pixels-7",formattedDate:"February 20, 2023",authors:[{name:"Abdullah Numan",title:"Fullstack Developer",url:"https://github.com/anewman15/",imageURL:"https://github.com/anewman15.png",key:"abdullah_numan"}],readingTime:15.8,date:"2023-02-20T00:00:00.000Z"},{title:"How to Multipart File Upload Using FormData with React Hook Form",description:"In this guide, I'm going to show you how to multipart files upload with using React Hook Form",permalink:"/blog/how-to-multipart-file-upload-with-react-hook-form",formattedDate:"March 29, 2022",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:7.085,date:"2022-03-29T00:00:00.000Z"}],authorPosts:[]},s={authorsImageUrls:[void 0]},m=[{value:"Migrating a React-Admin Application to refine",id:"migrating-a-react-admin-application-to-refine",level:3},{value:"Migrating Listing Pages",id:"migrating-listing-pages",level:2},{value:"Migrating Create/Edit Pages",id:"migrating-createedit-pages",level:2}],c={toc:m};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Recently, our team decided to migrate a B2B admin panel of one of our customers from React-Admin to refine to battle test our new framework and improve our productivity. My mission was to migrate it and it took one and a half days for me to rewrite the panel in refine."),(0,i.kt)("h3",{id:"migrating-a-react-admin-application-to-refine"},"Migrating a React-Admin Application to refine"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/"},"refine")," is an extremely customizable ",(0,i.kt)("a",{parentName:"p",href:"https://ant.design/"},"Ant Design")," based ",(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," framework for data-intensive applications and it handles most of the CRUD functionality that can be a requirement in many applications, without much effort. Providing the rest of the desired functionality (outside CRUD) is up to you, like in any ",(0,i.kt)("strong",null,"React")," application."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://marmelab.com/react-admin/"},"React-Admin")," is an amazing B2B application framework based on ",(0,i.kt)("a",{parentName:"p",href:"https://material.io/"},"Material Design"),", using ",(0,i.kt)("a",{parentName:"p",href:"https://mui.com/material-ui/getting-started/overview/"},"Material UI"),". It provides ready-to-fetch-data components, so you just compose them together to create an application."),(0,i.kt)("strong",null,"refine")," is different in the way it makes you compose your application. refine directly provides ",(0,i.kt)("strong",null,"Ant Design")," components and some hooks to work with those components. Hooks give you the required props for those Ant Design components.",(0,i.kt)("p",null,"It is, also, one step forward towards the dream of ",(0,i.kt)("strong",null,"making it headless"),"."),(0,i.kt)("p",null,"To learn more about refine, see: ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/docs/"},"https://refine.dev/docs/")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/sider.png",alt:"sider"})))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("em",{parentName:"td"},"Our panel has 7 resources (all listable), which 4 of them must have create and edit pages, 6 of them must be exportable to ",(0,i.kt)("inlineCode",{parentName:"em"},".csv")," files and some of those resources have images, all images must be uploaded in ",(0,i.kt)("inlineCode",{parentName:"em"},"base64")," format."))))),(0,i.kt)("p",null,"This is how it looks before the migration (React-Admin):"),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/react_admin.png",alt:"react-admin"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"And this is how it looks like after the migration (refine):"),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/refine_table.png",alt:"refine"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"Both of these images show a list page of a resource (campaign)."),(0,i.kt)("h2",{id:"migrating-listing-pages"},"Migrating Listing Pages"),(0,i.kt)("p",null,"List pages have one/more tables inside them. Ideally, all table state should be managed by the framework in use."),(0,i.kt)("p",null,"refine is very flexible with tables. You can put them anywhere, configure it as much as you want with ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/hooks/table/useTable/"},"useTable"),". See the ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/demo/"},"fineFoods example")," and ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/refinedev/refine/blob/master/examples/finefoods-antd/src/pages/categories/list.tsx"},"it's code"),"."),(0,i.kt)("p",null,"Here is an example list page from React-Admin that shows you the list of ",(0,i.kt)("inlineCode",{parentName:"p"},"id"),",",(0,i.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"isActive"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"startDate"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"endDate")," from the API endpoint for ",(0,i.kt)("inlineCode",{parentName:"p"},"campaigns")," resource."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport {\n    List as ReactAdminList,\n    Datagrid,\n    TextField,\n    BooleanField,\n    EditButton,\n} from "react-admin";\n\nimport LocalizeDateField from "../../fields/LocalizeDateField";\n\nconst List = (props) => (\n    <ReactAdminList {...props}>\n        <Datagrid>\n            <TextField source="id" label="ID" />\n            <TextField source="name" label="Name" />\n            <BooleanField source="isActive" label="Active" />\n            <LocalizeDateField source="startDate" />\n            <LocalizeDateField source="endDate" />\n            <EditButton basePath="/campaigns" />\n        </Datagrid>\n    </ReactAdminList>\n);\n\nexport default List;\n')),(0,i.kt)("p",null,"And looks like this:"),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/react_admin.png",alt:"react-admin"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"Here's the code that renders this same list in refine:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport {\n    List,\n    Table,\n    Space,\n    Button,\n    BooleanField,\n    DateField,\n    CreateButton,\n    EditButton,\n    ExportButton,\n    Icons,\n    useTable,\n    getDefaultSortOrder,\n    useExport,\n    useDeleteMany,\n    IResourceComponentsProps,\n} from "@pankod/refine";\n\nimport { ICampaign } from "interfaces";\n\nexport const CampaignsList: React.FC<IResourceComponentsProps> = () => {\n    const { tableProps, sorter } = useTable<ICampaign>({\n        sorters: {\n            initial: [\n                {\n                    field: "id",\n                    order: "asc",\n                },\n            ],\n        }\n    });\n\n    const { isLoading: isExportLoading, triggerExport } = useExport();\n\n    const [selectedRowKeys, setSelectedRowKeys] = React.useState<React.Key[]>(\n        [],\n    );\n\n    const handleSelectChange = (selectedRowKeys: React.Key[]) => {\n        setSelectedRowKeys(selectedRowKeys);\n    };\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: handleSelectChange,\n    };\n\n    const { mutate, isLoading } = useDeleteMany<ICampaign>();\n\n    const deleteSelectedItems = () => {\n        mutate(\n            {\n                resource: "campaigns",\n                ids: selectedRowKeys.map(String),\n                mutationMode: "undoable",\n            },\n            {\n                onSuccess: () => {\n                    setSelectedRowKeys([]);\n                },\n            },\n        );\n    };\n\n    const hasSelected = selectedRowKeys.length > 0;\n\n    return (\n        <List\n            pageHeaderProps={{\n                subTitle: hasSelected && (\n                    <Button\n                        type="text"\n                        onClick={() => deleteSelectedItems()}\n                        loading={isLoading}\n                        icon={\n                            <Icons.DeleteOutlined style={{ color: "green" }} />\n                        }\n                    >\n                        Delete\n                    </Button>\n                ),\n                extra: (\n                    <Space>\n                        <CreateButton />\n                        <ExportButton\n                            onClick={triggerExport}\n                            loading={isExportLoading}\n                        />\n                    </Space>\n                ),\n            }}\n        >\n            <Table {...tableProps} rowSelection={rowSelection} rowKey="id">\n                <Table.Column\n                    dataIndex="id"\n                    title="ID"\n                    sorter\n                    defaultSortOrder={getDefaultSortOrder("id", sorter)}\n                    width="70px"\n                />\n                <Table.Column\n                    dataIndex="name"\n                    title="Name"\n                    sorter\n                    defaultSortOrder={getDefaultSortOrder("name", sorter)}\n                />\n                <Table.Column\n                    dataIndex="isActive"\n                    title="Active"\n                    render={(isActive) => <BooleanField value={isActive} />}\n                    sorter\n                    defaultSortOrder={getDefaultSortOrder("isActive", sorter)}\n                />\n                <Table.Column\n                    dataIndex="startDate"\n                    title="Start Date"\n                    render={(value) => <DateField value={value} format="LLL" />}\n                    sorter\n                    defaultSortOrder={getDefaultSortOrder("startDate", sorter)}\n                />\n                <Table.Column\n                    dataIndex="endDate"\n                    title="End Date"\n                    render={(value) => <DateField value={value} format="LLL" />}\n                    sorter\n                    defaultSortOrder={getDefaultSortOrder("endDate", sorter)}\n                />\n                <Table.Column<ICampaign>\n                    fixed="right"\n                    title="Actions"\n                    dataIndex="actions"\n                    render={(_, { id }) => <EditButton recordItemId={id} />}\n                />\n            </Table>\n        </List>\n    );\n};\n')),(0,i.kt)("p",null,"It is long. Because we had to handle selection and bulk delete button manually. That's because refine is decoupled from Ant Design components' code, too. But the advantage here is that you use Ant Design. You can use the Ant Design's Table as however you like, and then connect its data with refine. The point is customizability.\nAnd it looks like this:"),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/refine_table.png",alt:"refine"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"In refine, we use Ant Design's ",(0,i.kt)("a",{parentName:"p",href:"https://ant.design/components/table/"},"Table")," components."),(0,i.kt)("h2",{id:"migrating-createedit-pages"},"Migrating Create/Edit Pages"),(0,i.kt)("p",null,"A resource creation page's code looked like this in React-Admin:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport {\n    required,\n    Create as ReactAdminCreate,\n    SimpleForm,\n    BooleanInput,\n    TextInput,\n    DateTimeInput,\n} from "react-admin";\n\nconst Create = (props: any) => (\n    <ReactAdminCreate {...props}>\n        <SimpleForm>\n            <TextInput\n                fullWidth\n                variant="outlined"\n                source="name"\n                validate={[required()]}\n            />\n            <BooleanInput\n                fullWidth\n                variant="outlined"\n                source="isActive"\n                label="Active"\n            />\n            <DateTimeInput\n                source="startDate"\n                label="Start Date"\n                validate={[required()]}\n                fullWidth\n                variant="outlined"\n            />\n            <DateTimeInput\n                source="endDate"\n                label="End Date"\n                validate={[required()]}\n                fullWidth\n                variant="outlined"\n            />\n        </SimpleForm>\n    </ReactAdminCreate>\n);\n\nexport default Create;\n')),(0,i.kt)("p",null,"And it looks like this:"),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2021-10-6-migrating-react-admin-to-refine/react_admin_create.png",alt:"react-admin"}),(0,i.kt)("br",null),(0,i.kt)("p",null,"For refine, code of our campaign create page looks like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import {\n    Create,\n    DatePicker,\n    Form,\n    Input,\n    IResourceComponentsProps,\n    Switch,\n    useForm,\n} from "@pankod/refine";\nimport dayjs from "dayjs";\n\nexport const CampaignsCreate: React.FC<IResourceComponentsProps> = () => {\n    const { formProps, saveButtonProps } = useForm();\n\n    return (\n        <Create saveButtonProps={saveButtonProps}>\n            <Form\n                {...formProps}\n                layout="vertical"\n                initialValues={{ isActive: false }}\n            >\n                <Form.Item\n                    label="Name"\n                    name="name"\n                    rules={[\n                        {\n                            required: true,\n                        },\n                    ]}\n                >\n                    <Input />\n                </Form.Item>\n                <Form.Item\n                    label="Is Active"\n                    name="isActive"\n                    valuePropName="checked"\n                >\n                    <Switch />\n                </Form.Item>\n                <Form.Item\n                    label="Start Date"\n                    name="startDate"\n                    rules={[\n                        {\n                            required: true,\n                        },\n                    ]}\n                    getValueProps={(value) => dayjs(value)}\n                >\n                    <DatePicker />\n                </Form.Item>\n                <Form.Item\n                    label="End Date"\n                    name="endDate"\n                    rules={[\n                        {\n                            required: true,\n                        },\n                    ]}\n                    getValueProps={(value) => dayjs(value)}\n                >\n                    <DatePicker />\n                </Form.Item>\n            </Form>\n        </Create>\n    );\n};\n')),(0,i.kt)("p",null,"In both refine and React-Admin, by default, there aren't much differences between new resource page's code and resource edit page's code."),(0,i.kt)("p",null,"Also note that for both refine and React-Admin, this is all customizable. These code examples and screenshots mean little or no extra customization in resource list/create/edit pages."),(0,i.kt)("p",null,"Advantage of refine is that you use Ant Design directly. Let's assume you have your own way around your Ant Design application. refine doesn't interfere. Instead, it provides you the necessary data for your Ant Design application. This way, refine gives you all the freedom to customize all the components as you wish."),(0,i.kt)("p",null,"Happy hacking with refine \ud83e\ude84"))}d.isMDXComponent=!0}}]);